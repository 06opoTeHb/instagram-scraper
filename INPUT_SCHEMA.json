{
    "title": "Input schema for Instagram scraper",
    "description": "Below you can provide search query which will be used to search Instagram for profiles, hashtags or places. Alternatively you can provide direct page urls. <br />Then on each page you can scrape page details, posts or comments. <br/> <strong>Important: Proxy is required to use this solution</strong>",
    "type": "object",
    "schemaVersion": 1,
    "properties": {
        "search": {
            "title": "Search",
            "type": "string",
            "description": "Here you can provide a search query which will be used to search Instagram for profiles, hashtags or places. <br /><br /><strong>This field is optional, but this field or 'Direct Instagram page URLs' must be provided (or both)</strong>",
            "editor": "textfield",
            "prefill": "Nature"
        },
        "searchType": {
            "title": "Search type",
            "type": "string",
            "description": "What type of pages to search (you can search hashtags, profiles and places)",
            "editor": "select",
            "enum": ["user", "hashtag", "place"],
            "enumTitles": ["Search users", "Search hashtags", "Search places"],
            "default": "hashtag"
        },
        "searchLimit": {
            "title": "Search results limit",
            "type": "integer",
            "description": "How many search results (eq. pages) should be processed",
            "editor": "number",
            "default": 10,
            "minimum": 1,
            "maximum": 100
        },
        "directUrls": {
            "title": "Direct Instagram page URLs",
            "type": "array",
            "description": "If you already have URL(s) of page(s) you wish to scrape, you can set them here. <br /><br /><strong>This field is optional, but this field or 'Search' must be provided (or both)</strong>",
            "editor": "stringList",
            "placeholderValue": "URL",
            "patternValue": "https:\\/\\/www\\.instagram\\.com\\/.+",
            "uniqueItems": true
        },
        "resultsType": {
            "title": "What to scrape from each page",
            "type": "string",
            "description": "What to scrape from each Instagram page URL or search result",
            "editor": "select",
            "enum": ["posts", "comments", "details"],
            "enumTitles": ["Posts", "Comments", "Details"],
            "default": "posts"
        },
        "resultsLimit": {
            "title": "Max items",
            "type": "integer",
            "description": "How many posts or comments to scrape from each Instagram URL or found page, ignored when \"Details\" type is specified",
            "editor": "number",
            "unit": "per page",
            "default": 200
        },
        "proxy": {
            "title": "Proxy configuration",
            "type": "object",
            "description": "<strong>Proxy is required to run this actor!</strong> Either use Apify proxy, or provide your own proxy servers.",
            "prefill": { "useApifyProxy": true, "apifyProxyGroups": [] },
            "editor": "proxy"
        },
        "loginUsername": {
            "title": "Login username",
            "type": "string",
            "description": "If you want to sign in to instagram to have access to more data than on anonymous profile, then enter your username here",
            "editor": "textfield",
            "sectionCaption": "Login using credentials",
            "sectionDescription": "Instagram limits access to certain data (likes, post user data and some other) if user is anonymous. You can provide credentials here to use a normal account. This is not secure and can end up with a ban of the used account, so do not use your own credentials here and rather create a new temporary account. When credentials are used, the run is limited to concurrency 1 and one session, so that the account does not get banned too soon."
        },
        "loginPassword": {
            "title": "Login password",
            "type": "string",
            "description": "If you want to sign in to instagram to have access to more data than on anonymous profile, then enter your password here",
            "editor": "textfield"
        },
        "loginCookies": {
            "title": "Cookies",
            "type": "array",
            "description": "If you want to sign in to instagram to have access to more data than on anonymous profile, but do not wish to have your credentials in input, then you can use your cookies.",
            "editor": "json",
            "sectionCaption": "Login using cookies",
            "sectionDescription": "Instagram limits access to certain data (likes, post user data and some other) if user is anonymous. You can provide you cookies here (copyied from chrome plugin like 'EditThisCookie' to use a normal account. This is more secure than using your credentials but you can still end up with a ban of the used account, so do not use your own cookies here and rather create a new temporary account. When cookies are used, the run is limited to concurrency 1 and one session, so that the account does not get banned too soon."
        },
        "likedByLimits": {
            "title": "Get post likes",
            "type": "integer",
            "description": "If this limit is set above 0, then the solution will attempt to load additional details about users who liked the post.",
            "editor": "number",
            "unit": "likes",
            "default": 0,
            "sectionCaption": "Additional data loaded from detail pages",
            "sectionDescription": "If limits in this section are set above 0, then when the solution enters a page, it attempts to load the specified items until limit is reached. All of the options below require login credentials."
        },
        "followingLimit": {
            "title": "Get profile following",
            "type": "integer",
            "description": "If this limit is set above 0, then the solution will attempt to find users who the profile owner is following.",
            "editor": "number",
            "unit": "users",
            "default": 0
        },
        "followedByLimit": {
            "title": "Get profile followed by",
            "type": "integer",
            "description": "If this limit is set above 0, then the solution will attempt to find users who the profile owner is followed by.",
            "editor": "number",
            "unit": "users",
            "default": 0
        },
        "expandOwners": {
            "title": "Query post owner",
            "type": "string",
            "description": "If this feature is used, then for each post the solution will attempt to query additional details about it's owner. This will drastically slow down crawling speed and increase chance of an account ban if credentials are provided.",
            "editor": "textfield",
            "sectionCaption": "Experimental features",
            "sectionDescription": "Features in this section are highly experimental, can result in ban of account if logged in and might cause the solution to fail."
        }
    },
    "required": ["proxy"]
}
